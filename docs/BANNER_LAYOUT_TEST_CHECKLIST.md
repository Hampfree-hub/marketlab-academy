# Чеклист проверки баннеров и превью (категория + водяная марка)

**Коммит/пуш после проверки:** см. [SAFE_COMMIT_PROCEDURE.md](./SAFE_COMMIT_PROCEDURE.md) — коммит и пуш из Cursor с правами `all` работают, используйте этот способ.

После правок в `Banner.astro` и `global.css` проверьте:

## Что проверять на каждом экране

1. **Водяная марка по нижней границе категории** — текст «MARKETLAB ACADEMY» выровнен по **нижней** границе прямоугольника категории (не по центру).
2. **Категория не прилипает к низу** — между нижним краем значка категории и границей карточки/баннера есть отступ.
3. **Категория всегда видна** — не обрезается и не прячется под нижней границей карточки.
4. **Водяная марка в превью (три режима):**
   - **(а)** Широкий экран — целое название в одну строку «MARKETLAB ACADEMY».
   - **(б)** Меньше места — два слова столбиком (MARKETLAB / ACADEMY), выровнено по нижней границе категории; без дробления по 1–2 буквы.
   - **(в)** Очень узкий экран (≤360px) — строка водяной марки переносится под категорию.
5. **Категория** — текст внутри цветного блока не прилипает к правой границе (есть горизонтальный padding).

## Страницы

| Страница | ru | en | es |
|----------|----|----|-----|
| Главная (`/ru/`, `/en/`, `/es/`) — блок «Последние статьи» | ☐ | ☐ | ☐ |
| Библиотека (`/ru/library/`, `/en/library/`, `/es/library/`) — сетка карточек | ☐ | ☐ | ☐ |
| Статья — баннер в шапке (full) | ☐ | ☐ | ☐ |
| Статья — блок «Похожие материалы» (preview) | ☐ | ☐ | ☐ |

## Разрешения (DevTools → Toggle device toolbar)

- **Mobile S**: 320px
- **Mobile M**: 375px  
- **Mobile L / Tablet**: 480px, 768px
- **Desktop**: 1024px, 1280px, 1920px

На каждом разрешении откройте главную и библиотеку для текущего языка и убедитесь, что пункты 1–3 выше выполняются.

## Порядок проверки (все языки × все разрешения)

1. Запустите превью: `npm run build` → `npm run preview`.
2. Откройте браузер с DevTools (F12) → вкладка **Device Toolbar** (или Ctrl+Shift+M).
3. Для каждого **языка** (ru, en, es) и каждого **разрешения** из списка ниже откройте указанные URL и проверьте пункты 1–3 в начале документа.

### URL по языкам

| Язык | Главная | Библиотека | Пример статьи (баннер full + «Похожие») |
|------|---------|------------|----------------------------------------|
| ru   | http://127.0.0.1:4321/ru/ | http://127.0.0.1:4321/ru/library/ | http://127.0.0.1:4321/ru/library/false-breakouts-trading/ |
| en   | http://127.0.0.1:4321/en/ | http://127.0.0.1:4321/en/library/ | http://127.0.0.1:4321/en/library/false-breakouts-trading/ |
| es   | http://127.0.0.1:4321/es/ | http://127.0.0.1:4321/es/library/ | http://127.0.0.1:4321/es/library/false-breakouts-trading/ |

### Разрешения экрана (ширина viewport)

Проверять минимум на этих ширинах (в DevTools задайте ширину или выберите устройство):

- **320px** — Mobile S
- **375px** — Mobile M
- **480px** — Mobile L
- **768px** — планшет (breakpoint в Banner.astro)
- **1024px** — ноутбук
- **1280px** и выше — десктоп

На главной и в библиотеке баннеры — **preview**; на странице статьи — баннер **full** в шапке и блок «Похожие материалы» с баннерами **preview**. На каждом из этих экранов убедитесь: категория и водяная марка на одной линии, категория не прилипает к низу и не обрезается.

## Быстрая проверка из корня проекта

```bash
npm run build
npm run preview
```

Затем в браузере откройте по очереди:  
`http://127.0.0.1:4321/ru/`, `http://127.0.0.1:4321/ru/library/`, то же для `en` и `es`. Меняйте ширину окна (или режим устройства в DevTools) по списку разрешений выше.

---

## Проверка после мержа/пуша (полная стабильность)

После коммита и пуша (или после pull) убедитесь:

1. **Сборка** — `npm run build` без ошибок (в Cursor — с правами `all`).
2. **Языки** — ru, en, es: главная, библиотека, одна статья (баннер full + блок «Похожие») открываются и отображаются корректно.
3. **Разрешения** — на главной и в библиотеке проверьте минимум 320px, 768px, 1280px (баннеры preview не обрезаны, категория и водяная марка на месте).
4. **Темы** — переключите светлую/тёмную тему (кнопка в шапке) на одной странице каждого языка — баннер и текст читаемы в обеих темах.
5. **Внутренние ссылки** — `node scripts/check-internal-links.mjs` из корня проекта — без ошибок.

Если всё ок — можно считать релиз стабильным; при несоответствиях — правки по чеклисту выше, затем повторная проверка и коммит/пуш.
