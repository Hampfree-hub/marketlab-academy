# Правила вёрстки баннеров и блоков блога (MarketLab Academy)

Документ фиксирует принятые решения по баннерам, категориям, водяной марке и блоку «Ещё по теме». Использовать при проверке и доработке всех страниц и статей.

---

## 1. Баннер (Banner.astro)

### 1.1. Выравнивание водяной марки и категории

- **Водяная марка** («MARKETLAB ACADEMY») выровнена по **нижней границе** прямоугольника категории (`align-items: flex-end`), не по центру.
- Категория и марка в одной строке до очень узкого экрана (≤360px для превью).

### 1.2. Водяная марка в превью — три режима

- **(а) Широкий экран:** целое название в одну строку — «MARKETLAB ACADEMY».
- **(б) Меньше места:** два слова столбиком (MARKETLAB / ACADEMY), выровнено по нижней границе категории. **Не дробить по 1–2 буквы** — только перенос по пробелу (`overflow-wrap: normal`, `word-break: keep-all`).
- **(в) Очень узкий экран (≤360px, только превью):** строка водяной марки переносится **под** категорию (`flex-wrap: wrap` у `.banner-bottom`).

### 1.3. Категория (цветной блок)

- Текст внутри блока **не прилипает** к левой/правой границе: используется горизонтальный padding `var(--space-2)` (16px) в превью.
- При сужении экрана padding сохраняется (`box-sizing: border-box`).

### 1.4. Отступы баннера

- Нижний отступ баннера (между категорией/маркой и нижним краем карточки) **не больше** верхнего: `padding-bottom` у `.banner-inner` и `.banner-bottom` сбалансированы с верхом.
- Баннер в карточках **не сжимается** так, чтобы категория/марка обрезались: у `.code-banner` и в контейнере карточки задано `flex-shrink: 0` где нужно.

### 1.5. Баннер статьи (full)

- На странице статьи баннер (type="full") использует те же принципы выравнивания и отступов.
- Минимальная высота достаточна, чтобы категория и водяная марка всегда видны.
- Адаптивные размеры заголовка и текста — через `clamp()`.

---

## 2. Блок «Ещё по теме» (RelatedPosts)

- Заголовок блока («Ещё по теме» / «RELATED» и т.п.) **не обрезается** рамкой контейнера: у `.related-posts-container` **не** используется `overflow: hidden` (заголовок с `position: absolute; top: -0.8rem` иначе прячется под рамку).
- Карточки превью не наезжают на рамку: достаточный padding контейнера (`var(--space-4)` сверху/снизу), у сетки и карточек — `min-width: 0` для корректного сжатия.
- В карточках используется тот же компонент Banner (type="preview") с правилами из п. 1.

---

## 3. Проверка

- Проверять по **всем языковым версиям** (ru, en, es) и **разрешениям** (320px, 375px, 480px, 768px, 1024px, 1280px+).
- Страницы: главная, библиотека, страница статьи, блок «Ещё по теме» на статье.
- Чеклист: `docs/BANNER_LAYOUT_TEST_CHECKLIST.md`.

---

## 4. Связанные файлы

- `src/components/Banner.astro` — баннер, категория, водяная марка.
- `src/components/RelatedPosts.astro` — блок «Ещё по теме».
- `src/styles/global.css` — правило `.post-card > .code-banner { flex-shrink: 0 }`.
- `src/styles/components/blog-post.css` — `.related-posts-container`.
- `docs/BANNER_LAYOUT_TEST_CHECKLIST.md` — чеклист проверки.
- `docs/LOCAL_DEV_TROUBLESHOOTING.md` — запуск dev, сборка, вывод сборки.
